MEMORY {
    ZP:         start = $00,    size = $0100, type = rw, file = "";
    STACK:      start = $0100,  size = $0100, type = rw, file = "";
    RAM:        start = $0200,  size = $0600, type = rw, file = "";
    HDR:        start = $0000,  size = $0010, type = ro, file = %O, fill = yes, fillval = $00;
    BANK_00:         start = $8000,  size = $2000, type = ro, file = %O, fill = yes, fillval = $00;
    BANK_01:         start = $8000,  size = $2000, type = ro, file = %O, fill = yes, fillval = $00;
    BANK_02:         start = $8000,  size = $2000, type = ro, file = %O, fill = yes, fillval = $00;
    BANK_03:         start = $8000,  size = $2000, type = ro, file = %O, fill = yes, fillval = $00;
    BANK_04:         start = $8000,  size = $2000, type = ro, file = %O, fill = yes, fillval = $00;
    BANK_05:         start = $8000,  size = $2000, type = ro, file = %O, fill = yes, fillval = $00;
    BANK_06:         start = $8000,  size = $2000, type = ro, file = %O, fill = yes, fillval = $00;
    BANK_07:         start = $8000,  size = $2000, type = ro, file = %O, fill = yes, fillval = $00;
    BANK_08:         start = $8000,  size = $2000, type = ro, file = %O, fill = yes, fillval = $00;
    BANK_09:         start = $8000,  size = $2000, type = ro, file = %O, fill = yes, fillval = $00;
    BANK_0a:         start = $8000,  size = $2000, type = ro, file = %O, fill = yes, fillval = $00;
    BANK_0b:         start = $8000,  size = $2000, type = ro, file = %O, fill = yes, fillval = $00;
    BANK_0c:         start = $8000,  size = $2000, type = ro, file = %O, fill = yes, fillval = $00;
    BANK_0d:         start = $8000,  size = $2000, type = ro, file = %O, fill = yes, fillval = $00;
    FIXED_BANK_0e:   start = $c000,  size = $2000, type = ro, file = %O, fill = yes, fillval = $00;
    FIXED_BANK_0f:   start = $e000,  size = $2000, type = ro, file = %O, fill = yes, fillval = $00;
}

SEGMENTS {
    ZEROPAGE: load = ZP,  type = zp;
    BSS:      load = RAM, type = bss, start = $0200;
    HEADER:   load = HDR, type = ro;
    
    BANK_00: load = BANK_00, type = ro;
    BANK_01: load = BANK_01, type = ro, optional = yes;
    BANK_02: load = BANK_02, type = ro, optional = yes;
    BANK_03: load = BANK_03, type = ro, optional = yes;
    BANK_04: load = BANK_04, type = ro, optional = yes;
    BANK_05: load = BANK_05, type = ro, optional = yes;
    BANK_06: load = BANK_06, type = ro, optional = yes;
    BANK_07: load = BANK_07, type = ro, optional = yes;
    
    PLAYBACK_CODE:  load = FIXED_BANK_0f,  type = rw, run = RAM, define = yes;
    DECODE_UNROLL:  load = FIXED_BANK_0e,  type = ro;
    DECODE:         load = FIXED_BANK_0f,  type = ro;
    DECODE_TABLES:  load = FIXED_BANK_0f,  type = ro, align = $100;
    MAIN:           load = FIXED_BANK_0f,  type = ro;
    HDRS:           load = FIXED_BANK_0f,  type = ro;
    INIT:           load = FIXED_BANK_0f,  type = ro;
    VECTORS:        load = FIXED_BANK_0f,  type = ro,  start = $FFFA;

}

SYMBOLS {
    INES_MAPPER:    type = weak, value = 23;   # VRC4: A0 = A0, A1 = A1
    INES_MIRROR:    type = weak, value = 0;    # 0 = horiz, 1 = vert
    INES_SRAM:      type = weak, value = 0;    # no SRAM present
    INES_PRG_BANKS: type = weak, value = 8;    # 16 * 8 = 128 KiB PRG
    INES_CHR_BANKS: type = weak, value = 0;    #  8 * 0 = 0 KiB CHR
    
    MAPPER_VRC4:    type = weak, value = 1;
}
